# 互联网及物联网科普

>仅以本文纪念曾经美好的80天

## 概要
互联网已是现代生活不可缺少的一部分，随之而来的物联网也是可预见的下一次技术革命。物联网可以说是互联网的延伸，它主要是将更多的物品纳入现有的网络，使物与人，物与物建立更广泛的连接，而不仅仅是人与人的连接(互联网)。因此对于每个人来说大致了解物联网与互联网底层网络的组建方式及核心思想就变的十分有意义了。  

本文旨在向非专业人士从以下几个方面介绍网络：  
1. 网络是如何组建的
2. 网络中的协议
3. 网络的分层思想


在介绍完网络后本文会介绍**互联网的发展历史**。参照互联网的发展，作者表达了对**当前物联网的看法**，最后**畅享了未来的物联网**

## 声明
1. 本文中所有内容仅为作者总结或思考，请大家以辩证的眼光看待。
2. 本文旨在向非计算机专业人士进行科普，因此对相关概念进行了高度简化。
3. 为了便于理解，本文中提到的路由器泛指：路由器，交换机，网桥，中继器甚至还有调制解调器。

## 网络解决了什么问题
在介绍网络前，通常我们应该先定义下什么是网络。但是为避免枯燥的概念，我们从网络解决了什么问题入手，对网络进行最直观的描述。作者认为**网络解决的是一个终端向另一个终端传输数据的问题**。通过网络，我们可以将一个终端的数据传输给另一个终端。这里的终端可以是手机、电脑、智能烟感、服务器等。例如：通过网络我们可以用手机向Google服务器发发送查询请求，Google服务器再通过网络将结果数据告诉我们。电脑通过网络从另一台电脑上下载（P2P）音乐数据。智能烟感通过网络向我们的手机发送告警数据。  
![图片1]("")

## 网络是如何组建的
在回答了网络解决什么样的问题后，下面来回忆下平时我们是如何使用网络的。  
在使用手机上网时，只要连接电信运营商的基站(基站会连接运营商路由器)即可浏览互联网上的内容。  
在家中上网时，需要联系电信运营商牵1根入户网线，网线连接家中的无线路由器，家中各种设备连接路由器后即可上网。如果仅仅是和家人玩局域网游戏（红色警戒2），那么只要家人的电脑也连接同一个路由器即可。  
在物联网环境下，则大体可以分为2类。1、传感器只需要与中继器交互数据。比如工厂内的温湿度传感器，只需要定期将数据回写给同网络的服务器中。或者使用lora协议的传感器仅与中继器交互数据。（中继器可以与连接电信运营商的路由器相连继续将数据上传到网络的云平台中）。2、传感器需要和全网络中任意设备通信。比如含有电信运营商SIM卡的共享单车，需要通过网络接收开锁，还车，变更密码等指令数据。智能家电连接无线路由器后与网络中的手机交互数据。  
![图片2]("")  
从上面列举的例子我们可以看出，我们使用网络的方式大致分为2种：1、交互双方的两个设备在同一个路由器下（局域网游戏，物联网第一种情况），路由器可以帮我们把数据转发数据。2、交互的设备不在同一个路由器下，但是设备连接的路由器必定与电信运营商相连。  
在所有例子中都大量涉及到了路由器，我们可以简单的将**路由器的功能定义为将数据转发**。它可以从与之相连的1个设备中获得数据并转发给另一个与之相连的设备。这样第一种网络使用方式就很好理解了。通过路由器实现了网络传输数据的功能。现在我们主要来看使用网络的第二种方式。  
![图片3]("")  
对于第二种使用网络的方式，直观的感受是我们的路由器连接电信运营商后就与网络中其它所有设备相连了。其实在运营商网络中，我们首先也是与路由器相连。当家中的路由器发现目标设备没有与其相连时，就会将数据转发给电信运营商的路由器，该路由器会查看目标设备时候与本路由器相连，如果有则直接转发给目标设备，如果没有则会将数据转发给它认为最有可能连接这个设备的路由器。这样反复直到最终数据传输到对应设备上。在这个过程中数据转发寻址的依据就是我们常数的IP地址了。  
![图片4]("")  
肯定有人就会问了难道中国电信是宇宙第一网络运行商，可以覆盖整个网络？其实当然不是，网络运营商（ISP）只负责本地的设备的网络接入，但运营商之间是互相连通同时是有等级的，一种较为好理解的方式是按照地域分级。北京的用户连接北京的网络运营商，各个省的运营商与国家级运营商相连，各个国家级运营商互相连通。越是高层的运营商互联时速度越快。同时各个网络运营商有分配IP地址的权利，有了IP就可以通过路由转发将数据发送给网络中任意1台设备了。由于运营商就有地域性，因此IP其实也是具有一定地域性的。（某些[网站]("https://www.ip138.com/")可以显示你的上网地域）这也就是为什么路由器根据IP可以将数据转发到尽可能距离设备近的路由器上（为了方便理解，此处不是很严谨）。  
![图片5]("")  
这里顺带说一句，网络运营商分配的IP一般是**公网IP**，全网唯一，用它可以路由到全网任意一个其他公共IP。而我们在网络第一种使用方式中，相关设备没有访问全网其他IP的需要，这时就不用向网络运营商申请公网IP，使用**私有IP**组网就可以了 ，这种IP仅仅用作专用网内寻址。一般"10.XX.XX.XX"，"172.16.XX.XX~172.31.XX.XX"，"192.168.XX.XX"的IP都是私有IP。
总结来说网络是如何帮我们终端上的数据传输给其他其他终端的呢？就是运用IP寻址，通过路由器一跳一跳的转发到拥有目的IP的终端上的。  
![图片6]("")  

## 网络协议
本节我们来介绍一个时髦的词——协议。什么是协议？协议是用来干什么的？本节将给出答案。  
